---
layout: post
title: "opencv安装"
date: 2016-12-28 10:26:00
image: '/assets/img/'
description: 'ubuntu16.04安装opencv'
tags:
- python
- openCV 
categories:
- just do it

---

> 使用python2,python3可能还没支持opencv库

#1、安装依赖的库
```
//必须的，gcc编译环境
sudo apt-get install build-essential   

//必须的,包括cmake等工具
sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev   

// 可选的，看个人需要，总共5M左右
sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev   
```

#2、下载源码

- 在官网下载：http://opencv.org/downloads.html
- 或着用git clone：
```
git clone https://github.com/opencv/opencv.git
```

#3、使用cmake安装
- 进入opencv目录，新建一个文件夹，我这起名为build
```
cd opencv
mkdir build
```

- 使用cmake或着用cmake-gui生成Makefile,选其一即可 

(1) cmake方式，先在opencv目录下创建CMakeLists.txt，然后在build目录下
```
// 生成后的Makefile在build文件夹中，而需要的CMakeLists.txt在 ".."中，即上一级文件夹中（opencv-3.1.0）
cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr/local ..

```

#4、安装OpenCv

- 在opencv/build下，终端运行：
```
// 7个线程编译
make -j7
 
// 安装
sudo make install
```

#5、安装python-opencv库

```
sudo apt-get install python-opencv
sudo apt-get install python-numpy
```

#开始使用opencv
- 在opencv目录下建python文件，然后就可以写代码了
```python
#encoding:UTF-8
import numpy
import cv2
img=cv2.imread('test.jpg',0)
cv2.imshow('image',img)
cv2.waitKey(0)
cv2.destroyAllWindows()
```

- opencv使用文档 http://docs.opencv.org/3.0-beta/doc/py_tutorials/py_gui/py_image_display/py_image_display.html#py-display-image